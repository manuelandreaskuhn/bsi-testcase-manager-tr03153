<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/css" href="../../schema/TR-03153-1-TS.css"?>
<TestCase id="II_GEU_02" xmlns="http://bsi.bund.de/TR03153" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://bsi.bund.de/TR03153 ../../schema/TR-03153-1-TS_version-1-2-0.xsd">
  <Title>Fehlerfall End-of-Usage-Datum</Title>
  <Version>1.2.0</Version>
  <Purpose>Prüfung, ob die Funktionalität zur Ausgabe des Datums, ab dem die TSE planmäßig nicht mehr zur Sicherung von Transaktionen verwendet werden kann, die Fehlermeldung ErrorGetEndOfUsageDateFailed ausgibt, wenn ein solches Datum nicht festgestellt werden kann.</Purpose>
  <RefFunction>getEndOfUsageDate</RefFunction>
  <Profiles>
    <Profile>II_ENDOFUSAGEDATE</Profile>
  </Profiles>
  <References>
    <Reference>BSI TR-03153-1</Reference>
    <Reference>BSI TR-03151-1</Reference>
  </References>
  <Preconditions>
    <Precondition>Die Technische Sicherheitseinrichtung wurde initialisiert.</Precondition>
    <Precondition>Die Zeit innerhalb des Sicherheitsmoduls wurde aktualisiert.</Precondition>
  </Preconditions>
  <TestSteps>
    <TestStep>
      <Command>Aufruf der Funktionalität zur Ausgabe des Datums ab dem die Technische Sicherheitseinrichtung planmäßig nicht mehr zur Sicherung von Transaktionen verwendet werden kann. Es wird ein Fehler provoziert, der bewirkt, dass ein Datum, ab dem die TSE planmäßig nicht mehr zur Sicherung von Transaktionen verwendet werden kann, nicht festgestellt werden kann.</Command>
      <RefFunction>getEndOfUsageDate</RefFunction>
      <ExpectedResults>
        <ExpectedResult>Die Ausführung wird beendet und es wird die Fehlermeldung ErrorGetEndOfUsageDateFailed ausgelöst.</ExpectedResult>
      </ExpectedResults>
    </TestStep>
  </TestSteps>
  <AlternativeTestProcedures>
    <AlternativeTestProcedure>Ist eine praktische Durchführung der beschriebenen Testschritte nicht möglich, ist dies plausibel zu begründen. In diesem Fall erfolgt alternativ eine formale Prüfung aufgrund geeigneter Auszüge aus dem Quellcode und - falls zum Verständnis notwendig - weiterer Herstellerdokumentation. Es ist ein geeigneter Nachweis zu erbringen, dass die Fehlermeldung ErrorGetEndOfUsageDateFailed ausgelöst wird, wenn ein Datum, ab dem die TSE planmäßig nicht mehr zur Sicherung von Transaktionen verwendet werden kann, nicht festgestellt werden kann.</AlternativeTestProcedure>
  </AlternativeTestProcedures>
</TestCase>