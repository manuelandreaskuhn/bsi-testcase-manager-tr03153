<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/css" href="../../schema/TR-03153-1-TS.css"?>
<TestCase id="II_DRC_03" xmlns="http://bsi.bund.de/TR03153" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://bsi.bund.de/TR03153 ../../schema/TR-03153-1-TS_version-1-2-0.xsd">
  <Title>Client deregistrieren: Fehler bei Deregistrierung</Title>
  <Version>1.2.0</Version>
  <Purpose>Prüfung, ob die Funktionalität zur Deregistrierung von Aufzeichnungssystemen beendet wird und die Fehlermeldung ErrorDeregisterClientFailed ausgelöst wird, wenn die erfolgreiche Deregistrierung nicht durchgeführt und die Ausführung der Funktionalitäten für das Starten, für die Aktualisierung und zum Beenden von Transaktion mit der übergebenen Seriennummer eines Aufzeichnungssystems nicht verhindert werden kann.</Purpose>
  <RefFunction>deregisterClient</RefFunction>
  <RefUser>logger</RefUser>
  <Profiles>
    <Profile>II</Profile>
  </Profiles>
  <References>
    <Reference>BSI TR-03153-1</Reference>
    <Reference>BSI TR-03151-1</Reference>
  </References>
  <Preconditions>
    <Precondition>Die Technische Sicherheitseinrichtung wurde initialisiert.</Precondition>
    <Precondition>Die Zeit innerhalb des Sicherheitsmoduls wurde aktualisiert.</Precondition>
    <Precondition>Der Nutzer logger wurde von der Technischen Sicherheitseinrichtung authentifiziert.</Precondition>
  </Preconditions>
  <TestSteps>
    <TestStep>
      <Command>Aufruf der Funktionalität zur Deregistrierung von Aufzeichnungssystemen. Es wird ein Fehler provoziert, der bewirkt, dass die Deregistrierung nicht erfolgreich durchgeführt werden und die erfolgreiche Ausführung der Funktionalitäten für das Starten, für die Aktualisierung und zum Beenden von Transaktion mit der übergebenen Seriennummer eines Aufzeichnungssystems nicht verhindert werden kann.</Command>
      <RefFunction>deregisterClient</RefFunction>
      <ExpectedResults>
        <ExpectedResult>Die Ausführung wird beendet und es wird die Fehlermeldung ErrorDeregisterClientFailed ausgelöst.</ExpectedResult>
      </ExpectedResults>
    </TestStep>
  </TestSteps>
  <AlternativeTestProcedures>
    <AlternativeTestProcedure>Ist eine praktische Durchführung der beschriebenen Testschritte nicht möglich, ist dies plausibel zu begründen. In diesem Fall erfolgt alternativ eine formale Prüfung aufgrund geeigneter Auszüge aus dem Quellcode und - falls zum Verständnis notwendig - weiterer Herstellerdokumentation. Es ist ein geeigneter Nachweis zu erbringen, dass die Fehlermeldung ErrorDeregisterClientFailed ausgelöst wird, wenn die erfolgreiche Ausführung der Funktionalitäten für das Starten, für die Aktualisierung und zum Beenden von Transaktion mit der übergebenen Seriennummer eines Aufzeichnungssystems nicht verhindert werden kann.</AlternativeTestProcedure>
  </AlternativeTestProcedures>
</TestCase>