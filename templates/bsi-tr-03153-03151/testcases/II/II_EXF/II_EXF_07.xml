<?xml version='1.0' encoding='utf-8'?>
<TestCase xmlns="http://bsi.bund.de/TR03153" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="II_EXF_07" xsi:schemaLocation="http://bsi.bund.de/TR03153 ../../schema/TR-03153-1-TS_version-1-2-0.xsd">
  <Title>Export Filter: Transaktion + Client-ID, Client-ID nicht gefunden</Title>
  <Version>1.2.0</Version>
  <Purpose>Der Test betrachtet einen Aufruf der Funktionalität zum gefilterten Export von Transaktions-Log-Nachrichten mit den Eingabeparametern transactionNumber und clientId. 

Es wird geprüft, ob die Funktion die Fehlermeldung ErrorClientIdNotFound auslöst, wenn keine Log-Nachrichten für die Client-ID gefunden werden.</Purpose>
  <RefFunction>exportFilteredTransactionLogs</RefFunction>
  <RefUser>logger</RefUser>
  <Profiles>
    <Profile>II_EXPORTFILTERED</Profile>
  </Profiles>
  <References>
    <Reference>BSI TR-03153-1</Reference>
    <Reference>BSI TR-03151-1</Reference>
  </References>
  <Preconditions>
    <Precondition>Die Technische Sicherheitseinrichtung wurde initialisiert.</Precondition>
    <Precondition>Die Zeit innerhalb des Sicherheitsmoduls wurde aktualisiert.</Precondition>
    <Precondition>Der Nutzer logger wurde von der Technischen Sicherheitseinrichtung authentifiziert.</Precondition>
    <Precondition>Auf dem Speichermedium sind Log-Nachrichten für mindestens eine beendete Transaktion gespeichert.</Precondition>
  </Preconditions>
  <TestSteps>
    <TestStep>
      <Command>Aufruf der Funktionalität zum Export von Transaktions-Log-Nachrichten mit Filter-Funktion sowie von Zertifikaten und Zusatzdateien. Für die Transaktionsnummer wird die Transaktionsnummer einer existierenden Transaktion übergeben. Für die Seriennummer des Aufzeichnungssystems wird ein Name übergeben, der nicht bei der Transaktion beteiligt war.</Command>
      <RefFunction>exportFilteredTransactionLogs</RefFunction><RefUser>logger</RefUser><ExpectedResults>
        <ExpectedResult>Die Ausführung wird beendet und es wird die Fehlermeldung ErrorTransactionNumberNotFound ausgelöst.</ExpectedResult>
      </ExpectedResults>
    </TestStep>
  </TestSteps>
</TestCase>