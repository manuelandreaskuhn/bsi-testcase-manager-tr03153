<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/css" href="../../schema/TR-03153-1-TS.css"?>
<TestCase id="II_AUT_10_N" xmlns="http://bsi.bund.de/TR03153" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://bsi.bund.de/TR03153 ../../schema/TR-03153-1-TS_version-1-2-0.xsd">
  <Title>Nutzerwechsel: Export mit Transaktionsfilter</Title>
  <Version>1.2.0</Version>
  <Purpose>Prüfung, ob ein nicht angemeldeter Nutzer Funktionen aufrufen kann, die von nicht angemeldeten Nutzern verwendet werden dürfen.
Es werden Parameter in der Form übergeben, dass ein berechtigter Nutzer die Funktion erfolgreich durchführen könnte.
Es wird die Funktionalität zum Export von Transaktions-Log-Nachrichten mit Filter-Funktion sowie von Zertifikaten und Zusatzdateien getestet.</Purpose>
  <RefFunction>exportFilteredTransactionLogs</RefFunction>
  <RefUser>unauthenticated</RefUser>
  <Profiles>
    <Profile>II_EXPORTFILTERED</Profile>
  </Profiles>
  <References>
    <Reference>BSI TR-03153-1</Reference>
    <Reference>BSI TR-03151-1</Reference>
  </References>
  <Preconditions>
    <Precondition>Die Technische Sicherheitseinrichtung wurde initialisiert.</Precondition>
    <Precondition>Die Zeit innerhalb des Sicherheitsmoduls wurde aktualisiert.</Precondition>
    <Precondition>Der aktuelle Nutzer ist der Nutzer unauthenticated.</Precondition>
  </Preconditions>
  <TestSteps>
    <TestStep>
      <Command>Aufruf der Funktionalität zum Export von Transaktions-Log-Nachrichten mit Filter-Funktion sowie von Zertifikaten und Zusatzdateien.</Command>
      <RefFunction>exportFilteredTransactionLogs</RefFunction>
      <ExpectedResults>
        <ExpectedResult>Die Ausführung wird ohne Fehlermeldung beendet.</ExpectedResult>
        <ExpectedResult>Die TSE-Schnittstelle gibt einen TAR-Container zurück.</ExpectedResult>
      </ExpectedResults>
    </TestStep>
  </TestSteps>
</TestCase>