<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/css" href="../../schema/TR-03153-1-TS.css"?>
<TestCase id="II_GOT_04" xmlns="http://bsi.bund.de/TR03153" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://bsi.bund.de/TR03153 ../../schema/TR-03153-1-TS_version-1-2-0.xsd">
  <Title>Offene Transaktionen abfragen: Transaktionen nach Update</Title>
  <Version>1.2.0</Version>
  <Purpose>Prüfung, ob die Funktionalität zur Ausgabe der Transaktionsnummern aller nicht beendeten Transaktionen die Transaktionsnummern aller offenen Transaktionen ausgibt, wenn aktuell keine Transaktion offenen ist. Zusätzlich wird geprüft ob die Ausführung ohne Fehlermeldung beendet wird.</Purpose>
  <RefFunction>getOpenTransactions</RefFunction>
  <Profiles>
    <Profile>II_OPENTRANSACTIONS</Profile>
  </Profiles>
  <References>
    <Reference>BSI TR-03153-1</Reference>
    <Reference>BSI TR-03151-1</Reference>
  </References>
  <Preconditions>
    <Precondition>Die Technische Sicherheitseinrichtung wurde initialisiert.</Precondition>
    <Precondition>Die Zeit innerhalb des Sicherheitsmoduls wurde aktualisiert.</Precondition>
    <Precondition>Es ist ein anderer Nutzer als timeadmin von der Technischen Sicherheitseinrichtung authentifiziert.</Precondition>
    <Precondition>Auf dem Speichermedium sind keine Log-Nachrichten für nicht beendete Transaktionen gespeichert.</Precondition>
  </Preconditions>
  <TestSteps>
    <TestStep>
      <Command>Aufruf der Funktionalität zur Ausgabe der Transaktionsnummern aller nicht beendeten Transaktionen.</Command>
      <RefFunction>getOpenTransactions</RefFunction>
      <ExpectedResults>
        <ExpectedResult>Die Ausführung wird ohne Fehlermeldung beendet.</ExpectedResult>
        <ExpectedResult>Der Rückgabeparameter openTransactions enthält die eine leere SEQUENCE.</ExpectedResult>
      </ExpectedResults>
    </TestStep>
  </TestSteps>
</TestCase>